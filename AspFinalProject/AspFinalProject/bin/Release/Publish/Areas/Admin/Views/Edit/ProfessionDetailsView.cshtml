@model AspFinalProject.Models.Entity.Person

<script>

        function showDetails() {


            $("#detailsModal").modal('show')
            $.ajax({


                url:'@Url.Action("ShowDetails","Edit", new { area="Admin"})',
                type: "GET",
                success: function (response) {

                    $("#name").val(response.FullName);
                    $("#Age").val(response.Age);
                    $("#Email").val(response.Email);
                    $("#Location").val(response.Location);
                    $("#Experience").val(response.Experience);
                    $("#Degree").val(response.Degree);
                    $("#Phone").val(response.Phone);
                    $("#Fax").val(response.Fax);
                    $("#CareerLevel").val(response.CareerLevel);
                    $("#WebSite").val(response.Website);
                },

                error: function (response) {
                    console.error(response)
                }

            })
    }


</script>

<h5 class="tittle">Professional Details</h5>

<form id="personDetails">
    <input type="hidden" value="" name="filename" />
    <img src="@(string.IsNullOrWhiteSpace(Model.imgPath)?"":Href("~/Template/media/Profile/"+Model.imgPath))" class="img-responsive" alt="">
    <ul class="personal-info">


        <li>
            <p>
                <span>
                    <input class="form-control" value="@Model.FullName" placeholder="Name" disabled>
                </span>
                <input class="form-control" value="@Model.Age" placeholder="Title" disabled>
            </p>
        </li>
        <li>
            <p>
                <span>
                    <input class="form-control" value="@Model.Email" placeholder="Title" disabled>
                </span>
                <input class="form-control" value="@Model.Experience" placeholder="Title" disabled>
            </p>
            <p>
                <span>
                    <input class="form-control" value="@Model.CareerLevel" placeholder="Title" disabled>
                </span>
            </p>
            <p>
                <span>
                    <input class="form-control" value="@Model.Degree" placeholder="Title" disabled>
                </span>
            </p>
        </li>
        <li>
            <p>
                <span>
                    <input class="form-control" value="@Model.Location" placeholder="Title" disabled>
                </span>
                <input class="form-control" value="@Model.Phone" placeholder="Title" disabled>
            </p>

            <p>
                <span>
                    <input class="form-control" value="@Model.Fax" placeholder="Title" disabled>
                </span>
                <input class="form-control" value="@Model.Website" placeholder="Title" disabled>
            </p>
        </li>
        <li>
            <a href="#" onclick="showDetails()" class="btn"><i class="fa fa-plus"></i> Edit</a>  </li>
        <li>
            <p class="font-weight-bold" style="color:red">@TempData["PersonInfomation"]</p>
        </li>
    </ul>
</form>


<div>
    <div class="modal" id="detailsModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <form id="modalForm" method="post" action="@Url.Action("saveChange","Edit")" enctype="multipart/form-data">
                <div class="modal-content">
                    <div class="form-group">
                        <label class="form-control image-container" style="width:100%; height:100%">
                            <input name="fileName" id="fileName"
                                   value="@(string.IsNullOrWhiteSpace(Model.imgPath)?"":Href("~/Template/media/Profile/"+Model.imgPath))"
                                   type="hidden" />
                            <img src="@(string.IsNullOrWhiteSpace(Model.imgPath)?"":Href("~/Template/media/Profile/"+Model.imgPath))" class="img-responsive" alt="">
                            <i class="empty-icon"></i>
                            <a href="javascript:removePhoto()"><i class="clear-icon header-right-button"></i></a>
                            @Html.EditorFor(model => model.imgPath,
                                    new { htmlAttributes = new { @class = "form-control", type = "file", style = "display:none", accept = "image/*", onchange = "readURL(this)", id = "mediaUrl", name = "imgPath" } })
                        </label>
                        @Html.ValidationMessageFor(model => model.imgPath, "", new { @class = "text-danger" })
                    </div>
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input class="form-control" id="name" name="fullname" placeholder="Enter Full Name">
                        </div>
                        <div class="form-group">
                            <label for="name">Age</label>
                            <input class="form-control" id="Age" name="age" placeholder="Enter Age">
                        </div>
                        <div class="form-group">
                            <label for="name">Location</label>
                            <input class="form-control" id="Location" name="location" placeholder="Enter Location">
                        </div>
                        <div class="form-group">
                            <label for="name">Experience</label>
                            <input class="form-control" id="Experience" name="experience" placeholder="Enter Experience">
                        </div>
                        <div class="form-group">
                            <label for="name">Degree</label>
                            <input class="form-control" id="Degree" name="degree" placeholder="Enter Degree">
                        </div>
                        <div class="form-group">
                            <label for="name">CareerLevel</label>
                            <input class="form-control" id="CareerLevel" name="careerlevel" placeholder="Enter Career Level">
                        </div>
                        <div class="form-group">
                            <label for="name">Phone</label>
                            <input class="form-control" id="Phone" name="phone" placeholder="Enter Phone">
                        </div>
                        <div class="form-group">
                            <label for="name">Fax</label>
                            <input class="form-control" id="Fax" name="fax" placeholder="Enter Fax">
                        </div> <div class="form-group">
                            <label for="name">E-mail</label>
                            <input class="form-control" id="Email" name="email" placeholder="Enter E-mail">
                        </div>
                        
                        <div class="form-group">
                            <label for="name">Web-Site</label>
                            <input class="form-control" id="WebSite" name="website" placeholder="Enter Web-Site">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save changes</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

@*<script>
    $(function () {
        $('.validation-summary-errors').each(function () {
            $(this).addClass('alert');
            $(this).addClass('alert-danger');
        });
        $('form').each(function () {
            $(this).find('div.form-group').each(function () {
                if ($(this).find('span.field-validation-error').length > 0) {
                    $(this).addClass('has-error');
                    $(this).find('span.field-validation-error').
                        removeClass('field-validation-error');
                }
            });
        });
    });

    var readURL = function (input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#news-image').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    var removePhoto = function () {
        document.getElementById('fileName').value = '';
        document.getElementById('mediaUrl').value = '';
        document.getElementById('news-image').src = '';
    }
    CKEDITOR.replace('Body');
</script>*@

